{"version":3,"sources":["lightgallery.js"],"names":["lightgallery","window","document","hasNext","current","images","gallery","length","hasPrev","preload","gal","_","src","href","showOverlay","options","pageSize","getPageSize","css","overlay","width","height","style","display","animate","opacity","overlayOpacity","hideOverlay","isOpen","setContPos","vScale","bIsOnload","notFitScreen","fsTitle","w","h","disableAnimate","padding","minPadding","dLoadWidth","loaderImage","dLoadHeight","ar","dScreenWidth","dScreenHeight","dAvailableWidth","dAvailableHeight","dy","newWidth","newHeight","picture","langVars","fitScreen","fsClass","fullSize","fullSizeBtn","$disabled","getAttribute","id","setAttribute","Math","max","minContainerWidth","scr","getScrollXY","y","x","dBtnWidth","dBtnHeight","animCallback","showContent","nextBtn","prevBtn","resizeSync","container","left","top","duration","innerCont","fadeImage","bInProgress","hideContent","showLoadingIcon","oThrobber","hideLoadingIcon","createContainer","enableZoom","zoomIn","zoomOut","DIV","imgIndex","title","close","titleBar","navHandler","event","cancelBubble","stopPropagation","target","srcElement","type","fnList","LG_closeBtn","G","LG_zoomNormal","zoomNormal","LG_fitScreen","LG_zoomIn","LG_zoomOut","LG_nextLink","next","LG_prevLink","prev","call","addEvent","keyPressHandler","e","code","keyCode","which","charCode","78","39","66","37","27","shiftKey","extend","source","i","elem","styles","prop","setElemStyle","xScroll","yScroll","windowWidth","windowHeight","de","documentElement","body","compatMode","innerHeight","scrollMaxY","scrollWidth","scrollHeight","offsetHeight","offsetWidth","clientHeight","clientWidth","scrOfX","scrOfY","b","pageYOffset","pageXOffset","scrollLeft","scrollTop","tag","attr","name","value","createElement","len","arguments","STRING","className","innerHTML","appendChild","loadImage","Image","onload","ready","isReady","setTimeout","init","bindReady","doScrollCheck","doScroll","readyBound","readyState","addEventListener","DOMContentLoaded","removeEventListener","attachEvent","onreadystatechange","detachEvent","toplevel","frameElement","overlayColor","zoomStep","alias","imageAttrib","image","of","isIE","test","navigator","userAgent","parseFloat","RegExp","el","fn","setLangVars","vars","opts","matches","galleryName","imgName","imgs","getElementsByTagName","regx","match","showImage","__gallery__","__index__","push","onclick","lastChild","background","open","visibility","zoom","this","coef","img","returnValue","preventDefault","show","showSingle","index","ns","ps","focus","isFilterOpacity","filter","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","Date","pxs","option","after","comp","currentStyle","getComputedStyle","perf","performance","perfNow","now","webkitNow","msNow","mozNow","start","finish","running","cmpValue","easing","pos","cos","PI","loop","time","toFixed"],"mappings":"AAMA,GAAIA,cAAe,SAAUC,EAAQC,GA2TrC,QAASC,KACL,MAAOC,GAAUC,EAAOC,GAASC,OAAS,EAM9C,QAASC,KACL,QAASJ,EAMb,QAASK,KACL,GAAIC,GAAML,EAAOC,EAEbI,IAAOA,EAAIN,EAAQ,KAAIO,EAAE,OAAOC,IAAMF,EAAIN,EAAQ,GAAGS,MACrDH,GAAOA,EAAIN,EAAQ,KAAIO,EAAE,OAAOC,IAAMF,EAAIN,EAAQ,GAAGS,MAO7D,QAASC,KACL,GAAIC,EAAQD,YAAa,CAGrB,GAAIE,GAAWC,GACfC,GAAIC,GACAC,MAAOJ,EAAS,GAChBK,OAAQL,EAAS,KAIQ,SAAzBG,EAAQG,MAAMC,UACdL,EAAIC,GAAUI,QAAS,UACvBC,EAAQL,GAAUM,QAASV,EAAQW,gBAAiB,OAQhE,QAASC,KACLH,EAAQL,GAAUM,QAAS,GAAI,IAAK,WAChCN,EAAQG,MAAMC,QAAU,OACxBK,EAAS,IASjB,QAASC,GAAWC,EAAQC,GAExB,GAAIC,GAAcC,EACdC,EAAEC,EAEFC,EADAC,EAA6B,EAAnBtB,EAAQuB,WAGlBC,EAAaC,EAAYpB,MACzBqB,EAAcD,EAAYnB,OAG1BqB,EAAKzB,IACL0B,EAAeD,EAAG,GAClBE,EAAgBF,EAAG,GACnBG,EAAmBF,EAAeN,EAClCS,EAAoBF,EAAgBP,EAAUU,CAIlD,IAAe,IAAXjB,GAAiBC,IAAcD,EAE/B,GAAIS,EAAaM,GAAmBJ,EAAcK,EAAkB,CAChE,GAAIE,GAAWH,EACXI,EAAYJ,EAAkBJ,EAAcF,CAE5CU,GAAYH,IACZG,EAAYH,EACZE,EAAWF,EAAmBP,EAAaE,GAG/CP,EAAIgB,EAAQ9B,MAAQ4B,EACpBb,GAAKe,EAAQ7B,OAAS4B,GAAaF,MAEnCb,GAAIgB,EAAQ9B,MAAQmB,EACpBJ,GAAKe,EAAQ7B,OAASoB,GAAeM,MAG1B,IAARjB,GAEPI,EAAIgB,EAAQ9B,MAAQmB,EACpBJ,GAAKe,EAAQ7B,OAASoB,GAAeM,GACrB,EAATjB,GAAcA,EAAS,GAE9BI,EAAKgB,EAAQ9B,OAASU,EACtBK,GAAKe,EAAQ7B,QAAUS,GAAUiB,IAEjCb,EAAIC,EAAI,IACRC,GAAiB,IAIjBJ,EAAiBE,EAAIW,GAAmBV,EAAKW,EAAmBC,IAChEd,EAAUkB,EAASC,UACnBC,QAAU,gBACHH,EAAQ9B,OAASmB,GAAcW,EAAQ7B,QAAUoB,IACxDR,EAAUkB,EAASG,SACnBD,QAAU,iBAGdE,EAAYC,WAAY,EACpBN,EAAQO,aAAa,UAAYlB,EAE7BP,GACAuB,EAAYG,GAAKL,QACjBE,EAAYI,aAAa,QAAS1B,KAElCsB,EAAYG,GAAK,mBACjBH,EAAYC,WAAY,IAG5BD,EAAYG,GAAK,gBACjBH,EAAYI,aAAa,QAASR,EAASG,WAI/CpB,EAAI0B,KAAKC,IAAI3B,EAAG4B,EAGhB,IAAIC,GAAMC,IACNC,GAAKrB,EAAgBT,GAAKS,EAAgBT,GAAG,EAAIpB,EAAQuB,YAAcyB,EAAI,GAC3EG,GAAKvB,EAAeT,GAAKS,EAAeT,GAAG,EAAInB,EAAQuB,YAAcyB,EAAI,GAGzEI,EAAajC,EAAE,EACfkC,EAAcjC,EAAIY,EAAK,EACvBsB,cAAe,WACXvD,IACAwD,KAGRpD,EAAIqD,GAAUnD,MAAO+C,EAAW9C,OAAQ+C,IACxClD,EAAIsD,GAAUpD,MAAO+C,EAAW9C,OAAQ+C,IAEpCrD,EAAQS,UAAYY,EAChBrB,EAAQ0D,WACRjD,EAAQkD,GACJtD,MAAOc,EACPyC,KAAMT,EACN7C,OAAQc,EACRyC,IAAKX,GACNlD,EAAQ8D,SAAUR,cAErB7C,EAAQkD,GAAYtD,MAAOc,EAAGyC,KAAMT,GAAInD,EAAQ8D,SAAS,EAAG,WACxDrD,EAAQkD,GAAYrD,OAAQc,EAAGyC,IAAKX,GAAIlD,EAAQ8D,SAAS,EAAGR,iBAIpEnD,EAAIwD,GAAYE,IAAKX,EAAGU,KAAMT,EAAG9C,MAAOc,EAAGb,OAAQc,IACnDkC,gBAOR,QAASC,KACLQ,UAAUxD,MAAMC,QAAU,QAE1BL,EAAIgC,GAAUzB,QAAQ,IACtBD,EAAQ0B,GAAUzB,QAAS,GAAIV,EAAQgE,UAAY,IAAM,EAAG,WAAYC,EAAc,IAM1F,QAASC,KACLH,UAAUxD,MAAMC,QAAU,OAG9B,QAAS2D,KACLC,EAAU7D,MAAMC,QAAU,QAG9B,QAAS6D,KACLD,EAAU7D,MAAMC,QAAU,OAM9B,QAAS8D,KACAtE,EAAQuE,aACTC,EAASC,EAAU,GAGvB,IAAId,GAAY/D,EAAE8E,GAAM/B,GAAG,gBACvByB,EACAxE,EAAE8E,GAAM/B,GAAG,gBACP/C,EAAE8E,GAAM/B,GAAG,YACP6B,EAAQC,EAASjC,EAAamC,EAAU/E,EAAE8E,GAAK/B,GAAG,cAAciC,MAAMxC,EAASyC,QAASjF,EAAE8E,GAAMnE,MAAO,gBAE3G4B,EACA2C,EACArB,EAASD,IAKbuB,EAAa,SAASC,GACtBA,EAAMC,cAAe,EACrBD,EAAME,iBAAmBF,EAAME,iBAE/B,IAAIC,GAASH,EAAMG,QAAUH,EAAMI,UAEnC,IAAkB,SAAdJ,EAAMK,KAAiB,CACvB,GAAIC,IACAC,YAAaC,EAAEX,MACfY,cAAeD,EAAEE,WACjBC,aAAcH,EAAEE,WAChBE,UAAWJ,EAAEhB,OACbqB,WAAYL,EAAEf,QACdqB,YAAaN,EAAEO,KACfC,YAAaR,EAAES,KAGfd,GAAOxC,KAAM2C,IACbA,EAAOH,EAAOxC,IAAIuD,KAAKV,OAGP,eAAbL,EAAOxC,IAAoC,eAAbwC,EAAOxC,IAC5ClC,EACI0E,GACCzE,QAAuB,YAAdsE,EAAMK,KAAqB,EAAI,IASrD,OAJAc,GAASxC,EAAW,QAASoB,GAC7BoB,EAASxC,EAAW,YAAaoB,GACjCoB,EAASxC,EAAW,WAAYoB,GAEzBpB,EAGX,QAASyC,GAAgBC,GACrB,GAAKxF,EAAL,CAEAwF,EAAIA,GAAKnH,EAAO8F,KAChB,IAAIsB,GAAOD,EAAEE,QAAUF,EAAEE,QAAWF,EAAEG,MAAQH,EAAEG,MAAQH,EAAEI,SACtDnB,GACIoB,GAAKlB,EAAEO,KACPY,GAAKnB,EAAEO,KACPa,GAAKpB,EAAES,KACPY,GAAKrB,EAAES,KACPa,GAAKtB,EAAEX,MAGX7E,GAAQuE,aACRe,EAAO,IAAME,EAAEE,WACfJ,EAAO,KAAOE,EAAEhB,OAChBc,EAAO,KAAOE,EAAEf,QAChBa,EAAO,KAAOE,EAAEf,SAGhB4B,EAAEU,UAAoB,KAART,EAEdd,EAAEhB,SACKc,EAAOgB,IACdhB,EAAOgB,MASf,QAASU,GAAO7B,EAAQ8B,GACpB,IAAK,GAAIC,KAAKD,GACV9B,EAAO+B,GAAKD,EAAOC,GAS3B,QAAS/G,GAAIgH,EAAMC,GACf,IAAK,GAAIC,KAAQD,GACbE,aAAaH,EAAME,EAAMD,EAAOC,IAQxC,QAASnH,KACL,GAAIqH,GACAC,EACAC,EACAC,EACAC,EAAKxI,EAASyI,gBACdC,EAAO1I,EAAS0I,KAChBV,EAA+B,eAAxBhI,EAAS2I,WAA+BH,EAAKE,CAoBxD,OAlBI3I,GAAO6I,aAAe7I,EAAO8I,YAC7BT,EAAUM,EAAKI,YACfT,EAAUtI,EAAO6I,YAAc7I,EAAO8I,YAC/BH,EAAKK,aAAeL,EAAKM,cAChCZ,EAAUM,EAAKI,YACfT,EAAUK,EAAKK,cACRP,GAAMA,EAAGO,aAAeP,EAAGQ,cAClCZ,EAAUI,EAAGM,YACbT,EAAUG,EAAGO,eAEbX,EAAUM,EAAKO,YACfZ,EAAUK,EAAKM,cAInBT,EAAeP,EAAKkB,aACpBZ,EAAcN,EAAKmB,aAILb,EAAVF,EAAuBE,EAAcF,EAG3BG,EAAVF,EAAwBE,EAAeF,EAEvCC,EACAC,GAQR,QAASzE,KACL,GAAIsF,GAAS,EAAGC,EAAS,EAAGC,EAAItJ,EAAS0I,KAAMF,EAAKxI,EAASyI,eAc7D,OAboC,gBAAxB1I,GAAmB,aAE3BsJ,EAAStJ,EAAOwJ,YAChBH,EAASrJ,EAAOyJ,aACTF,IAAOA,EAAEG,YAAcH,EAAEI,YAEhCL,EAASC,EAAEI,UACXN,EAASE,EAAEG,YACJjB,IAAQA,EAAGiB,YAAcjB,EAAGkB,aAEnCL,EAASb,EAAGkB,UACZN,EAASZ,EAAGiB,aAEPL,EAAQC,GAQrB,QAAS5I,GAAEkJ,EAAKC,GAEZ,GAGIC,GACAC,EAJA9B,EAAOhI,EAAS+J,cAAcJ,GAC9B5B,EAAI,EAIJiC,EAAMC,UAAU5J,MAEpB,IAAIuJ,EACA,IAAKC,IAAQD,GACTE,EAAQF,EAAKC,SACFC,IAASI,IACJ,SAARL,EACA7B,EAAKmC,UAAYL,EAEjB9B,EAAKvE,aAAaoG,EAAMC,GAOxC,MAAWE,EAAJjC,EAASA,UACDkC,WAAUlC,IAAMmC,EACvBlC,EAAKoC,WAAaH,UAAUlC,GAE5BC,EAAKqC,YAAYJ,UAAUlC,GAInC,OAAOC,GAGX,QAASsC,GAAU5J,GAgBf,MAfA4B,GAAc,GAAIiI,OAGlBjI,EAAYkI,OAAS,WACjBtF,IAEAlC,EAAQtC,IAAM4B,EAAY5B,IAC1BiB,EAAWd,EAAQuC,SAAW,EAAI,GAAG,GACrC7C,KAGAG,IACA4B,EAAY5B,IAAMA,GAGf4B,EAMX,QAASmI,KACL,IAAKC,EAAS,CACV,IAAK1K,EAAS0I,KACV,MAAOiC,YAAWF,EAAO,GAG7BC,IAAU,EAEVrE,EAAEuE,QAIV,QAASC,KAkCG,QAASC,KACL,IAAIJ,EAAJ,CAIA,IAGI1K,EAASyI,gBAAgBsC,SAAS,QACpC,MAAM7D,GAEJ,WADAyD,YAAYG,EAAe,GAK/BL,KA/CZ,IAAIO,EAAJ,CAGA,GAFAA,GAAa,EAEe,aAAxBhL,EAASiL,WACT,MAAOR,IAGX,IAAIzK,EAASkL,iBACTlL,EAASkL,iBAAkB,mBAAoB,QAASC,KACpDnL,EAASoL,oBAAqB,mBAAoBD,GAAkB,GACpEV,MACD,OAGA,IAAIzK,EAASqL,YAAa,CAC7BrL,EAASqL,YAAY,qBAAsB,QAASC,KACnB,aAAxBtL,EAASiL,aACVjL,EAASuL,YAAY,qBAAsBD,GAC3Cb,MAMR,IAAIe,IAAW,CAEf,KACIA,EAAmC,OAAxBzL,EAAO0L,aACpB,MAAMvE,IAEJlH,EAASyI,gBAAgBsC,UAAYS,GAoBrCV,MApyBZ,GACIlH,GACAoH,EACAN,EACA5F,EAyCAN,EASAlC,EAEAlC,EACAsB,EACAxB,EAOAC,EAjEA0C,GAAK,EAOL0C,EAAc,MACd2E,EAAc,SAGdrJ,GACID,aAAkB,EAClB8K,aAAkB,OAClBlK,eAAkB,IAClBmK,SAAkB,GAClBrK,SAAkB,EAClBqD,SAAkB,IAClBJ,YAAkB,EAClBa,YAAkB,EAClBP,WAAkB,EAClB+G,MAAkB,eAClBxI,UAAkB,EAClBhB,WAAkB,GAClByJ,YAAkB,cAItB5I,GACI2D,KAAY,OACZE,KAAY,WACZzB,OAAY,UACZC,QAAY,WACZlC,SAAY,YACZF,UAAY,aACZwC,MAAY,QACZoG,MAAY,QACZC,GAAY,MAKhBC,EAAO,eAAeC,KAAKC,UAAUC,YAAcC,WAAWC,OAAW,IAIzE1G,EAAclF,EAAE8E,GAAM/B,GAAG,gBACzBR,EAAcvC,EAAE,OAAQ+C,GAAG,WAC3Bc,EAAc7D,EAAE8E,GAAM/B,GAAG,cAAciC,MAAMxC,EAAS6D,OACtDzC,EAAc5D,EAAE8E,GAAM/B,GAAG,cAAciC,MAAMxC,EAAS2D,OACtDvD,EAAc5C,EAAE8E,GAAM/B,GAAI,gBAAiBiC,MAAOxC,EAASG,WAC3DiC,EAAc5E,EAAE8E,GAAM/B,GAAI,YAAaiC,MAAOxC,EAASoC,SACvDC,EAAc7E,EAAE8E,GAAM/B,GAAI,aAAciC,MAAOxC,EAASqC,UACxDE,EAAc/E,EAAE8E,GAAM/B,GAAI,eAAgBP,EAAS6I,MAAQ,OAAS7I,EAAS8I,GAAK,QAOlF9G,EAAYxE,EAAE8E,GAAK/B,GAAG,eAGtBvC,EAAUR,EAAE8E,GAAM/B,GAAG,eAWrBwD,EAAW,WACP,MAAIjH,GAAOmL,iBACA,SAASoB,EAAIpG,EAAMqG,GACtBD,EAAGpB,iBAAiBhF,EAAMqG,GAAI,IAE3BxM,EAAOsL,YACP,SAASiB,EAAIpG,EAAMqG,GACtBD,EAAGjB,YAAY,KAAOnF,EAAM,WACxBqG,EAAGxF,KAAKuF,EAAIvM,EAAO8F,UAHxB,UASXQ,GAMAmG,YAAc,SAASC,GACnB5E,EAAO5E,EAAUwJ,IAQrB7B,KAAM,SAAS8B,GAIX,GAFAA,GAAQ7E,EAAOhH,EAAS6L,IAEnB1B,EAAY,MAAOH,IAGxB1K,KAYA,KAXA,GAEIwM,GAIAb,EACAc,EACAC,EARAC,EAAO9M,EAAS+M,qBAAqB,KACrCC,EAAO,GAAIX,QAAO,IAAIxL,EAAQ+K,MAAM,0BAA0B/K,EAAQ+K,MAAM,KAE5E7D,EAAI,EACJiC,EAAM8C,EAAKzM,OACXqI,EAAO1I,EAAS0I,KAMTsB,EAAJjC,EAASA,IACZ+D,EAAQgB,EAAK/E,GACb8E,EAAUf,EAAMvI,aAAa1C,EAAQgL,cAAgBC,EAAMvI,aAAa,OACnEsJ,IAELF,EAAUE,EAAQI,MAAMD,GACpBL,IACA3F,EAAS8E,EAAO,QAASzF,EAAE6G,WAC3BN,EAAcD,EAAQ,GAClBC,IACKzM,EAAOyM,KACRzM,EAAOyM,OAIXd,EAAMqB,YAAcP,EACpBd,EAAMsB,UAAYjN,EAAOyM,GAAaS,KAAKvB,GAAS,IAuBhE,IAjBA7K,EAAQqM,QAAUjH,EAAEX,MACpBgD,EAAK2B,YAAYpJ,GAEjBqJ,IAEK9F,IACDkE,EAAK2B,YAAa7F,EAAYW,KAC9BP,UAAYJ,EAAU+I,WAG1BvG,EACI0B,EAAK2C,YAAc3C,EAAO3I,EAC1B,UACAkH,GAIApE,KAAO,EAAO,CACd,GAAI3B,GAAQsD,EAAUpD,MAAMF,KAC5BsD,GAAUpD,MAAMF,MAAQ,MACxB2B,EAAK2B,EAAUwE,aACfxE,EAAUpD,MAAMF,MAAQA,EACxB0C,EAAoBoI,EAAO,IAAMxH,EAAUyE,YAI/CjI,EAAIC,GACAuM,WAAY3M,EAAQ6K,aACpBrK,QAAS,OACTE,QAASV,EAAQW,kBAWzBiM,KAAO,WACC/L,IAEJd,IAGAoC,EAAQ5B,MAAMC,QAAQ,QACtBM,IACAX,EAAIwD,GAAYkJ,WAAY,UAAWrM,QAAS,UAChDK,EAAS,IAMbgE,MAAO,WACHjE,IACAT,EAAIwD,GAAYkJ,WAAY,SAAUrM,QAAS,SAE/C2B,EAAQtC,IAAM,IAGlB2E,OAAQ,WACJgB,EAAEsH,KAAK,EAAI9M,EAAQ8K,WAGvBrG,QAAS,WACLe,EAAEsH,KAAK,EAAI9M,EAAQ8K,WAGvBpF,WAAY,WACJqH,KAAKtK,WAET+C,EAAEsH,KACE3K,EAAQ9B,OAASoB,EAAYpB,OAAS8B,EAAQ7B,QAAUmB,EAAYnB,OAAS,EAAI,IAIzFwM,KAAO,SAASE,GACZ9I,IACApD,EAAWkM,IAOfX,UAAW,SAAShG,GAChB,GAAI4G,GAAMF,KACN7F,EAAI+F,EAAIV,SAEZlG,GAAIA,GAAKnH,EAAO8F,MAChBqB,EAAE6G,aAAc,EAChB7G,EAAE8G,gBAAkB9G,EAAE8G,iBAElBF,EAAIX,aAAepF,EAAI,IACvB3H,EAAU0N,EAAIX,YACd9G,EAAE4H,KAAKlG,KAEP3H,EAAU,KACViG,EAAE6H,WAAWJ,KAQrBI,WAAY,SAASlG,GACjB3B,EAAEoH,OAGF1I,IACAC,IAEAsF,EAAUtC,EAAKrH,MAEfgF,EAASyE,UAAYpC,EAAKvC,MAC1BD,EAAS4E,UAAY,GACrB9F,EAAQlD,MAAMsM,WAAarJ,EAAQjD,MAAMsM,WAAa,UAO1DO,KAAM,SAASE,GACX,MAAK/N,GAAmB,EAAR+N,GAAaA,EAAQhO,EAAOC,GAASC,OAAO,GAAMQ,EAAQS,SAAWwD,GAArF,CAEAuB,EAAEoH,MAEF,IAAIjN,GAAML,EAAOC,GACbgO,EAAK/J,EAAQjD,MACbiN,EAAK/J,EAAQlD,KAEjB2D,KACAC,IAEAF,EAAc,EAEdwF,EAAU9J,EAAI2N,GAAOxN,MAErBgF,EAASyE,UAAY5J,EAAI2N,GAAO1I,MAChCD,EAAS4E,UAAYnH,EAAS6I,MAAM,KAAKqC,EAAM,GAAG,IAAIlL,EAAS8I,GAAG,IAAIvL,EAAIH,OAE1EH,EAAUiO,EAGVC,EAAGV,WAAazN,IAAY,UAAY,SACxCoO,EAAGX,WAAapN,IAAY,UAAY,SAExCP,EAAOuO,UAIX1H,KAAM,WACFP,EAAE4H,KAAK/N,EAAU,IAIrB4G,KAAM,WACFT,EAAE4H,KAAK/N,EAAU,KAyfrBqO,QAAyB9N,GAAE,KAAKW,MAAMoN,QAAUtE,EAClDuE,EAAmB,WACjB,MAAQ1O,GAAO2O,uBACP3O,EAAO4O,6BACP5O,EAAO6O,0BACP7O,EAAO8O,yBACP9O,EAAO+O,wBACP,SAASC,GACPhP,EAAO4K,WAAW,WAChBoE,GAAU,GAAIC,QACb,OAGf7G,cAAe,WAEX,GAAI8G,IACA/N,MAAS,EACTC,OAAS,EACTuD,IAAS,EACTD,KAAS,EAGb,OAAI8J,GACO,SAASvG,EAAME,EAAMgH,GACZ,WAARhH,IACAF,EAAK5G,MAAMoN,OAAS,iBAAwB,IAAPU,EAAW,KAEpDlH,EAAK5G,MAAM8G,GAAQgH,GAAUD,EAAI/G,GAAQ,KAAK,KAI/C,SAASF,EAAME,EAAMgH,GACxBlH,EAAK5G,MAAM8G,GAAQgH,GAAUD,EAAI/G,GAAQ,KAAK,OAIxD,IAAI5G,GAAU,SAASgL,EAAItG,EAAQrB,EAAUwK,GAErCxK,EADA9D,EAAQS,QACsB,gBAAZqD,GAAuBA,EAAW,IAEzC,CAGf,IACIuD,GASA+E,EAVAmC,EAAO9C,EAAG+C,aAAe/C,EAAG+C,aAAeC,iBAAiBhD,EAAI,MAEhEpM,KACAqP,EAAOxP,EAAOyP,YACdC,EAAUF,IAASA,EAAKG,KAAOH,EAAKI,WAAaJ,EAAKK,OAASL,EAAKM,QACpEH,EAAMD,EAAU,WAAc,MAAOA,GAAQ1I,KAAKwI,IAAU,WAAc,OAAQ,GAAIP,OACtFc,EAAQJ,IACRK,EAASD,EAAQnL,EACjBqL,GAAU,EACVC,EAAW,EAEXC,EAAS,SAASC,GAAM,OAASzM,KAAK0M,IAAID,EAAIzM,KAAK2M,IAAI,EAAK,IAC5DC,EAAO,SAASC,GACZ,GAAKP,EAAL,CACIP,GAAWc,EAAO,OAAMA,EAAOb,IAEnC,IAAIxH,GAAMiI,CAEVA,GAAMI,EAAOR,EAAS,GAAKQ,EAAKT,GAASnL,CAEzC,KAAKuD,IAAQlC,GACTmC,aAAamE,EAAIpE,GAAOhI,EAAQgI,IAASlC,EAAOkC,GAAQhI,EAAQgI,IAASgI,EAAOC,IAAMK,QAAQ,GAG9FD,GAAOR,IACPC,GAAU,EACVb,GAASA,KAEbV,EAAiB6B,IAGzB,KAAKpI,IAAQlC,GACG,WAARkC,GAAqBqG,GACrBtB,EAAQmC,EAAKZ,OAAOvB,MAAM,kBACtBA,IACAgD,EAAW7D,WAAWa,EAAM,IAAI,MAIpCgD,EAAW7D,WAAWgD,EAAKlH,IAG/BhI,EAAQgI,GAAQ+H,CAGpBxB,GAAiB6B,GAGrB,OAAOjK,IACJtG,OAAQC","file":"lightgallery.js","sourcesContent":["/**\n* LightGallery v1.4\n* Author: Dmitri Ischenko - ischenkodv@gmail.com\n* Website: http://code.google.com/p/lightgallery\n* Freely distributable under MIT-style license\n*/\nvar lightgallery = (function(window, document){\n\n// local variables\nvar dy = false,\n    minContainerWidth,\n    readyBound,\n    isReady,\n    bInProgress,\n    \n    /* constants */\n    DIV         = 'div',\n    STRING      = 'string',\n\n    // Library options\n    options = {\n        showOverlay     : true,\n        overlayColor    : '#000',\n        overlayOpacity  : 0.85,\n        zoomStep        : 0.2,\n        animate         : true,\n        duration        : 800,\n        resizeSync      : false,    // resize container both vertically and horizontally at the same time\n        enableZoom      : true,\n        fadeImage       : true,\n        alias           : 'lightgallery',\n        fullSize        : false,\n        minPadding      : 15,       // minimal distance between container and window\n        imageAttrib     : 'data-image'\n    },\n\n    // Language variables\n    langVars = {\n        next      : 'Next',\n        prev      : 'Previous',\n        zoomIn    : 'Zoom In',\n        zoomOut   : 'Zoom Out',\n        fullSize  : 'Full Size',\n        fitScreen : 'Fit screen',\n        close     : 'Close',\n        image     : 'Image',\n        of        : 'of'\n    },\n\n    // Test if browser is Internet Explorer\n    // TODO: remove browser detection.\n    isIE = /MSIE ([^;]+)/.test(navigator.userAgent) && parseFloat(RegExp[\"$1\"]),\n\n    /* container and its elements */\n    container,      // container which holds image;\n    titleBar    = _(DIV, {id:'LG_titleBar'}),       // title bar\n    picture     = _('img', {id:'LG_pic'/*, width:300, height:300*/}), // Image inside lightbox\n    prevBtn     = _(DIV, {id:'LG_prevLink',title:langVars.prev}),        // \"previous\" button\n    nextBtn     = _(DIV, {id:'LG_nextLink',title:langVars.next}),        // \"next\" button\n    fullSizeBtn = _(DIV, {id: 'LG_zoomNormal', title: langVars.fullSize}),    // button which show image full size\n    zoomIn      = _(DIV, {id: 'LG_zoomIn', title: langVars.zoomIn}),    // Zoom In button\n    zoomOut     = _(DIV, {id: 'LG_zoomOut', title: langVars.zoomOut}),    // Zoom Out button\n    imgIndex    = _(DIV, {id: 'LG_imgIndex'}, langVars.image + ' 20 ' + langVars.of + ' 20 '), // index of images\n    loaderImage,\n\n    gallery,\n    isOpen,         // if gallery open?\n    current,        // index of the current image\n\n    oThrobber = _(DIV,{id:'LG_loading'}),      // Loading indicator\n    \n    /* Reference to overlay */\n    overlay = _(DIV, {id:'LG_overlay'}),\n\n    images, // list of images\n\n    /****************************/\n    /*     Functions            */\n    /****************************/\n\n    /**\n     * Add event listener\n     */\n    addEvent = (function(){\n        if (window.addEventListener) {\n            return function(el, type, fn) {\n                el.addEventListener(type, fn, false);\n            };\n        } else if (window.attachEvent) {\n            return function(el, type, fn) {\n                el.attachEvent('on' + type, function() {\n                    fn.call(el, window.event);\n                });\n            };\n        }\n    })();\n\nvar G = {\n\n    /**\n     * Set language variables\n     * @param {Object} vars - language variables\n     */\n    setLangVars : function(vars) {\n        extend(langVars, vars);\n    },\n\n\n    /**\n     * Initialize gallery\n     * @param {object} opts - gallery options\n     */\n    init: function(opts) {\n\n        opts && extend(options, opts);\n\n        if (!readyBound) return bindReady();\n\n        // get images\n        images = [];\n        var imgs = document.getElementsByTagName('a'),\n            regx = new RegExp('^'+options.alias+'\\\\[([a-zA-Z0-9_-]+)\\\\]|'+options.alias+'$'),\n            matches,\n            i = 0,\n            len = imgs.length,\n            body = document.body,\n            image,\n            galleryName,\n            imgName;\n        \n        // filter images that match specified RegEx expression\n        for (; i < len; i++) {\n            image = imgs[i];\n            imgName = image.getAttribute(options.imageAttrib) || image.getAttribute('rel');\n            if (!imgName) continue;\n\n            matches = imgName.match(regx);\n            if (matches) {\n                addEvent(image, 'click', G.showImage);\n                galleryName = matches[1];\n                if (galleryName) {\n                    if (!images[galleryName]) {\n                        images[galleryName] = [];\n                    }\n\n                    // save gallery name and index in image\n                    image.__gallery__ = galleryName;\n                    image.__index__ = images[galleryName].push(image) - 1;\n                }\n            }\n        }\n\n        // create overlay and container and add it to body\n        overlay.onclick = G.close;\n        body.appendChild(overlay);\n\n        loadImage();\n\n        if (!container) {\n            body.appendChild( container = createContainer() );\n            innerCont = container.lastChild;\n        }\n\n        addEvent(\n            body.attachEvent ? body : window,\n            'keydown',\n            keyPressHandler\n        );\n\n        // define the difference between container and image size\n        if (dy === false) {\n            var width = container.style.width;\n            container.style.width = '90%';\n            dy = container.offsetHeight;\n            container.style.width = width;\n            minContainerWidth = isIE ? 200 : container.offsetWidth;\n        }\n        \n        // set default color and opacity for overlay\n        css(overlay, {\n            background: options.overlayColor,\n            display: 'none',\n            opacity: options.overlayOpacity\n        });\n\n        /*addEvent(window, 'resize', function() {\n            setContPos(1);\n        });*/\n    },\n\n    /**\n     * Open (show) gallery\n     */\n    open : function(){\n        if (isOpen) return;\n\n        showOverlay();\n\n        // display container\n        picture.style.display='block';\n        setContPos();\n        css(container, {visibility: 'visible', display: 'block'});\n        isOpen = 1;\n    },\n\n    /**\n     * Close gallery\n     */\n    close: function(){\n        hideOverlay();\n        css(container, {visibility: 'hidden', display: 'none'});\n\n        picture.src = '';\n    },\n\n    zoomIn: function(){\n        G.zoom(1 + options.zoomStep);\n    },\n\n    zoomOut: function(){\n        G.zoom(1 - options.zoomStep);\n    },\n\n    zoomNormal: function() {\n        if (this.$disabled) return;\n\n        G.zoom(\n            picture.width == loaderImage.width && picture.height == loaderImage.height ? 0 : 1\n        );\n    },\n\n    zoom : function(coef){\n        hideContent();\n        setContPos(coef);\n    },\n\n    /**\n     * Shows image when user click it\n     * @param {Object} e Event object\n     */\n    showImage: function(e){\n        var img = this,\n            i = img.__index__;\n\n        e = e || window.event;\n        e.returnValue = false;\n        e.preventDefault && e.preventDefault();\n\n        if (img.__gallery__ && i > -1) {\n            gallery = img.__gallery__;\n            G.show(i);\n        } else {\n            gallery = null;\n            G.showSingle(img);\n        }\n    },\n\n    /**\n     * Show single image\n     * @param {Element} elem - reference to element\n     */\n    showSingle: function(elem){\n        G.open();\n\n        // Hide content and show loading icon\n        hideContent();\n        showLoadingIcon();\n\n        loadImage(elem.href);\n\n        titleBar.innerHTML = elem.title;\n        imgIndex.innerHTML = '';\n        prevBtn.style.visibility = nextBtn.style.visibility = 'hidden';\n    },\n\n    /**\n     * Show image from the gallery\n     * @param {Number} index - index of the image\n     */\n    show: function(index) {\n        if (!gallery || index < 0 || index > images[gallery].length-1 || (options.animate && bInProgress)) return;\n\n        G.open();\n\n        var gal = images[gallery],\n            ns = nextBtn.style,\n            ps = prevBtn.style;\n\n        hideContent();\n        showLoadingIcon();\n\n        bInProgress = 1;\n        \n        loadImage(gal[index].href);\n\n        titleBar.innerHTML = gal[index].title;\n        imgIndex.innerHTML = langVars.image+' '+(index+1)+' '+langVars.of+' '+gal.length;\n\n        current = index;\n        \n        // show or hide prev/next buttons depending on image index\n        ns.visibility = hasNext() ? 'visible' : 'hidden';\n        ps.visibility = hasPrev() ? 'visible' : 'hidden';\n\n        window.focus();\n    },\n\n    // show next image\n    next: function(){\n        G.show(current + 1);\n    },\n\n    // show previous image\n    prev: function(){\n        G.show(current - 1);\n    }\n};\n\n/**\n * Detects if gallery has next image after current\n */\nfunction hasNext() {\n    return current < images[gallery].length - 1 ? true : false;\n}\n\n/**\n * Detects if gallery has previous image before current\n */\nfunction hasPrev() {\n    return !!current;\n}\n\n/**\n * Preload adjacent images\n */\nfunction preload(){\n    var gal = images[gallery];\n    //if (!gal) return;\n    if (gal && gal[current+1]) _('img').src = gal[current+1].href;\n    if (gal && gal[current-1]) _('img').src = gal[current-1].href;\n}\n\n\n/**\n * Set the size and position of the container\n */\nfunction showOverlay() {\n    if (options.showOverlay) {\n\n        // set overlay size\n        var pageSize = getPageSize();\n        css(overlay, {\n            width: pageSize[0],\n            height: pageSize[1]\n        });\n\n        // show overlay if it's not shown already\n        if (overlay.style.display != 'block') {\n            css(overlay, {display: 'block'});\n            animate(overlay, {opacity: options.overlayOpacity}, 300);\n        }\n    }\n}\n\n/**\n * Hides overlay\n */\nfunction hideOverlay(){\n    animate(overlay, {opacity: 0}, 300, function(){\n        overlay.style.display = 'none';\n        isOpen = 0;\n    });\n}\n\n/**\n * Set container position\n * @param {number} vScale\n * @param {boolean} bIsOnload Show if function is called from whithin onload event\n */\nfunction setContPos(vScale, bIsOnload) {\n    // define references and variables\n    var notFitScreen, fsTitle,\n        w,h,    // width and height of the container\n        padding = options.minPadding*2,\n        disableAnimate,\n        // size of the container plus padding\n        dLoadWidth = loaderImage.width,\n        dLoadHeight = loaderImage.height,\n\n        // size of the viewport and the space available to the container\n        ar = getPageSize(),\n        dScreenWidth = ar[2],\n        dScreenHeight = ar[3],\n        dAvailableWidth =  dScreenWidth - padding,\n        dAvailableHeight =  dScreenHeight - padding - dy;\n\n    // *****************************************\n    // define width and height of the container\n    if (vScale === 0 || (bIsOnload && !vScale)) {\n        // set size of the container according to the size of the viewport\n        if (dLoadWidth > dAvailableWidth || dLoadHeight > dAvailableHeight) {\n            var newWidth = dAvailableWidth,\n                newHeight = dAvailableWidth * dLoadHeight / dLoadWidth;\n\n            if (newHeight > dAvailableHeight) {\n                newHeight = dAvailableHeight;\n                newWidth = dAvailableHeight * dLoadWidth / dLoadHeight;\n            }\n\n            w = picture.width = newWidth;\n            h = (picture.height = newHeight) + dy;\n        } else {\n            w = picture.width = dLoadWidth;\n            h = (picture.height = dLoadHeight) + dy;\n        }\n\n    } else if (vScale==1) {\n        // show image in real size\n        w = picture.width = dLoadWidth;\n        h = (picture.height = dLoadHeight) + dy;\n    } else if (vScale < 1 || vScale > 1) {\n        // zoom image according to vScale\n        w = (picture.width *= vScale);\n        h = (picture.height *= vScale) + dy;\n    } else {\n        w = h = 300;    // default size\n        disableAnimate = true;\n    }\n\n    // enable/disable the full size button\n    if (notFitScreen = ( w > dAvailableWidth || h > (dAvailableHeight + dy) )) {\n        fsTitle = langVars.fitScreen;\n        fsClass = 'LG_fitScreen';\n    } else if (picture.width != dLoadWidth || picture.height != dLoadHeight) {\n        fsTitle = langVars.fullSize;\n        fsClass = 'LG_zoomNormal';\n    }\n\n    fullSizeBtn.$disabled = false;\n    if (picture.getAttribute('width') == dLoadWidth) {\n        // it is real size of the image\n        if (notFitScreen) {\n            fullSizeBtn.id = fsClass;\n            fullSizeBtn.setAttribute('title', fsTitle);\n        } else {\n            fullSizeBtn.id = 'LG_zoom_disabled';\n            fullSizeBtn.$disabled = true;\n        }\n    } else {\n        fullSizeBtn.id = 'LG_zoomNormal';\n        fullSizeBtn.setAttribute('title', langVars.fullSize);\n    }\n\n    // here we set the minimal width of the container\n    w = Math.max(w, minContainerWidth);\n\n    // correct coords according to scroll bars position\n    var scr = getScrollXY(),\n        y = (dScreenHeight > h ? (dScreenHeight - h)/2 : options.minPadding) + scr[1],\n        x = (dScreenWidth > w ? (dScreenWidth - w)/2 : options.minPadding) + scr[0],\n\n        // set the width of the prev/next buttons as 1/3 of the picture width\n        dBtnWidth = (w/3),\n        dBtnHeight = (h - dy - 10);\n        animCallback = function(){\n            showOverlay();\n            showContent();\n        };\n\n    css(nextBtn, {width: dBtnWidth, height: dBtnHeight});\n    css(prevBtn, {width: dBtnWidth, height: dBtnHeight});\n\n    if (options.animate && !disableAnimate) {\n        if (options.resizeSync) {\n            animate(container, {\n                width: w,\n                left: x,\n                height: h,\n                top: y\n            }, options.duration, animCallback);\n        } else {\n            animate(container, {width: w, left: x}, options.duration/2, function(){\n                animate(container, {height: h, top: y}, options.duration/2, animCallback);\n            });\n        }\n    } else {\n        css(container, {top: y, left: x, width: w, height: h});\n        animCallback();\n    }\n}\n\n/**\n * Show container content\n */\nfunction showContent() {\n    innerCont.style.display = 'block';\n\n    css(picture, {opacity:0});\n    animate(picture, {opacity: 1}, options.fadeImage ? 400 : 0, function(){ bInProgress = 0; });\n}\n\n/**\n * Hide container content\n */\nfunction hideContent() {\n    innerCont.style.display = 'none';\n}\n\nfunction showLoadingIcon() {\n    oThrobber.style.display = 'block';\n}\n\nfunction hideLoadingIcon() {\n    oThrobber.style.display = 'none';\n}\n\n/**\n * Create container\n */\nfunction createContainer() {\n    if (!options.enableZoom) {\n        zoomIn = zoomOut = '';\n    }\n\n    var container = _(DIV, {id:'LG_container'},\n        oThrobber,\n        _(DIV, {id:'LG_innerCont'},\n            _(DIV, {id:'LG_panel'},\n                zoomIn, zoomOut, fullSizeBtn, imgIndex, _(DIV,{id:'LG_closeBtn',title:langVars.close}), _(DIV, {style: 'clear:both'})\n            ),\n            picture,\n            titleBar,\n            prevBtn, nextBtn\n        )\n    );\n\n\n    var navHandler = function(event){\n        event.cancelBubble = true;\n        event.stopPropagation && event.stopPropagation();\n        \n        var target = event.target || event.srcElement;\n        \n        if (event.type == 'click') {\n            var fnList = {\n                LG_closeBtn: G.close,\n                LG_zoomNormal: G.zoomNormal,\n                LG_fitScreen: G.zoomNormal,\n                LG_zoomIn: G.zoomIn,\n                LG_zoomOut: G.zoomOut,\n                LG_nextLink: G.next,\n                LG_prevLink: G.prev\n            };\n\n            if (target.id in fnList) {\n                fnList[target.id].call(G);\n            }\n            \n        } else if (target.id == 'LG_nextLink' || target.id == 'LG_prevLink') {\n            animate(\n                target,\n                {opacity: event.type == 'mouseout' ? 0 : 1}\n            );\n        }\n    };\n    \n    addEvent(container, 'click', navHandler);\n    addEvent(container, 'mouseover', navHandler);\n    addEvent(container, 'mouseout', navHandler);\n\n    return container;\n}\n\nfunction keyPressHandler(e) {\n    if (!isOpen) return;\n\n    e = e || window.event;\n    var code = e.keyCode ? e.keyCode : (e.which ? e.which : e.charCode),\n        fnList = {\n            78 : G.next,       // n key\n            39 : G.next,       // right arrow\n            66 : G.prev,       // b key\n            37 : G.prev,       // left arrow\n            27 : G.close       // Esc key\n        };\n\n    if (options.enableZoom) {\n        fnList[70] = G.zoomNormal;  // f key\n        fnList[107] = G.zoomIn;     // +\n        fnList[109] = G.zoomOut;    // -\n        fnList[189] = G.zoomOut;    // dash (minus in the top row)\n    }\n\n    if (e.shiftKey && code == 187) {\n        // Zoom in when Shift+\n        G.zoomIn();\n    } else if (fnList[code]) {\n        fnList[code]();\n    }\n}\n\n/**\n * Extends object with properties of another object\n * @param {object} target\n * @param {object} source\n */\nfunction extend(target, source) {\n    for (var i in source) {\n        target[i] = source[i];\n    }\n}\n\n/**\n* Set CSS style of the element\n* @param {object} elem\n* @param {object} styles\n*/\nfunction css(elem, styles){\n    for (var prop in styles) {\n        setElemStyle(elem, prop, styles[prop]);\n    }\n}\n\n/**\n * Get the page and viewport size\n * @return {Array}\n */\nfunction getPageSize(){\n    var xScroll,\n        yScroll,\n        windowWidth,\n        windowHeight,\n        de = document.documentElement,\n        body = document.body,\n        elem = document.compatMode === \"CSS1Compat\" ?  de : body;\n\n    if (window.innerHeight && window.scrollMaxY) {\n        xScroll = body.scrollWidth;\n        yScroll = window.innerHeight + window.scrollMaxY;\n    } else if (body.scrollHeight > body.offsetHeight){ // all but Explorer Mac\n        xScroll = body.scrollWidth;\n        yScroll = body.scrollHeight;\n    } else if (de && de.scrollHeight > de.offsetHeight){ // Explorer 6 strict mode\n        xScroll = de.scrollWidth;\n        yScroll = de.scrollHeight;\n    } else { // Explorer Mac...would also work in Mozilla and Safari\n        xScroll = body.offsetWidth;\n        yScroll = body.offsetHeight;\n    }\n\n\n    windowHeight = elem.clientHeight;\n    windowWidth = elem.clientWidth;\n\n    return [\n        // Viewport height. For small pages with total width less then width of the viewport\n        xScroll < windowWidth? windowWidth : xScroll,\n\n        // Viewport height. For small pages with total height less then height of the viewport\n        yScroll < windowHeight? windowHeight : yScroll,\n\n        windowWidth,\n        windowHeight\n    ];\n}\n\n/**\n * Get coords of scroll bars\n * @return {Array} - [coord horizontal, coord vertical]\n */\nfunction getScrollXY() {\n    var scrOfX = 0, scrOfY = 0, b = document.body, de = document.documentElement;\n    if( typeof( window.pageYOffset ) == 'number' ) {\n        //Netscape compliant\n        scrOfY = window.pageYOffset;\n        scrOfX = window.pageXOffset;\n    } else if( b && ( b.scrollLeft || b.scrollTop ) ) {\n        //DOM compliant\n        scrOfY = b.scrollTop;\n        scrOfX = b.scrollLeft;\n    } else if( de && ( de.scrollLeft || de.scrollTop ) ) {\n        //IE6 Strict\n        scrOfY = de.scrollTop;\n        scrOfX = de.scrollLeft;\n    }\n    return [ scrOfX, scrOfY ];\n}\n\n/**\n * Create HTML element\n * @param {String} tag - tag name\n * @param {Object} attr - attributes to set, ex: {'name':'someClass',value:'the value'}\n */\nfunction _(tag, attr) {\n\n    var elem = document.createElement(tag),\n        i = 2,\n        j,\n        name,\n        value,\n        len = arguments.length;\n\n    if (attr){\n        for (name in attr) {\n            value = attr[name];\n            if (typeof value == STRING) {\n                if (name == 'class') {\n                    elem.className = value;\n                } else {\n                    elem.setAttribute(name, value);\n                }\n\n            }\n        }\n    }\n\n    for (; i < len; i++) {\n        if (typeof arguments[i] == STRING) {\n            elem.innerHTML += arguments[i];\n        } else {\n            elem.appendChild(arguments[i]);\n        }\n    }\n\n    return elem;\n}\n\nfunction loadImage(src) {\n    loaderImage = new Image();\n\n    // create new Image element to load images\n    loaderImage.onload = function() {\n        hideLoadingIcon();\n\n        picture.src = loaderImage.src;\n        setContPos(options.fullSize ? 1 : 0, true);\n        preload();\n    };\n\n    if (src) {\n        loaderImage.src = src;\n    }\n\n    return loaderImage;\n}\n\n/**\n * ondomready functionality from jQuery framework:\n */\nfunction ready() {\n    if (!isReady) {\n        if (!document.body) {\n            return setTimeout(ready, 13);\n        }\n\n        isReady = true;\n\n        G.init();\n    }\n}\n\nfunction bindReady() {\n\n    if (readyBound) return;\n    readyBound = true;\n\n    if (document.readyState === \"complete\" ) {\n        return ready();\n    }\n\n    if (document.addEventListener) {\n        document.addEventListener( \"DOMContentLoaded\", function DOMContentLoaded() {\n            document.removeEventListener( \"DOMContentLoaded\", DOMContentLoaded, false );\n            ready();\n        }, false);\n\n    // If IE event model is used\n    } else if (document.attachEvent) {\n        document.attachEvent(\"onreadystatechange\", function onreadystatechange() {\n            if ( document.readyState === \"complete\" ) {\n                document.detachEvent(\"onreadystatechange\", onreadystatechange);\n                ready();\n            }\n        });\n\n        // If IE and not a frame\n        // continually check to see if the document is ready\n        var toplevel = false;\n\n        try {\n            toplevel = window.frameElement === null;\n        } catch(e){}\n\n        if (document.documentElement.doScroll && toplevel) {\n\n            function doScrollCheck() {\n                if (isReady) {\n                    return;\n                }\n\n                try {\n                    // If IE is used, use the trick by Diego Perini\n                    // http://javascript.nwbox.com/IEContentLoaded/\n                    document.documentElement.doScroll(\"left\");\n                } catch(e) {\n                    setTimeout( doScrollCheck, 1 );\n                    return;\n                }\n\n                // and execute any waiting functions\n                ready();\n            }\n\n            doScrollCheck();\n        }\n    }\n}\n\n\nvar isFilterOpacity = typeof _('a').style.filter == STRING,\n  requestAnimFrame = (function(){\n    return  window.requestAnimationFrame       || \n            window.webkitRequestAnimationFrame || \n            window.mozRequestAnimationFrame    || \n            window.msRequestAnimationFrame     || \n            window.oRequestAnimationFrame      || \n            function(callback) {\n              window.setTimeout(function () {\n                callback(+new Date())\n              }, 17)\n            }\n  })();\n  setElemStyle = (function(){\n\n      var pxs = {\n          width  : 1,\n          height : 1,\n          top    : 1,\n          left   : 1\n      };\n\n      if (isFilterOpacity) {\n          return function(elem, prop, option) {\n              if (prop == 'opacity'){\n                  elem.style.filter = 'alpha(opacity='+option*100+')';\n              }\n              elem.style[prop] = option + (pxs[prop] ? 'px':'');\n          };\n      }\n\n      return function(elem, prop, option) {\n          elem.style[prop] = option + (pxs[prop] ? 'px':'');\n      };\n  })();\n\nvar animate = function(el, target, duration, after) {\n    if (options.animate) {\n        duration = typeof duration == 'number' ? duration : 200;\n    } else {\n        duration = 0;\n    }\n\n    var comp = el.currentStyle ? el.currentStyle : getComputedStyle(el, null),\n        prop,\n        current = {},\n        perf = window.performance,\n        perfNow = perf && (perf.now || perf.webkitNow || perf.msNow || perf.mozNow),\n        now = perfNow ? function () { return perfNow.call(perf) } : function () { return +new Date() },\n        start = now(),\n        finish = start + duration,\n        running = true,\n        cmpValue = 0,\n        match,\n        easing = function(pos){ return (-Math.cos(pos*Math.PI)/2) + 0.5; },\n        loop = function(time){\n            if (!running) return;\n            if (perfNow && time > 1e12) time = now();\n\n            var prop, pos;\n\n            pos = time > finish ? 1 : (time-start) / duration;\n\n            for (prop in target) {\n                setElemStyle(el, prop, (current[prop] + (target[prop] - current[prop]) * easing(pos)).toFixed(3));\n            }\n\n            if (time > finish) {\n                running = false;\n                after && after();\n            }\n            requestAnimFrame(loop);\n        };\n\n    for (prop in target) {\n        if (prop == 'opacity' && isFilterOpacity) {\n            match = comp.filter.match(/opacity\\=(\\d+)/);\n            if (match) {\n                cmpValue = parseFloat(match[1])/100;\n            }\n\n        } else {\n            cmpValue = parseFloat(comp[prop]);\n        }\n\n        current[prop] = cmpValue;\n    }\n\n    requestAnimFrame(loop);\n};\n\nreturn G;\n})(window, document);\n"],"sourceRoot":"/source/"}