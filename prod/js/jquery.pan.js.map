{"version":3,"sources":["jquery.pan.js"],"names":["jQuery","fn","extend","pan","panInit","panImg","$","panWrapper","w","parseInt","css","h","ml","width","mt","height","nl","event","pageX","nt","pageY","document","createElement","addClass","zi","append","zo","close","this","click","e","t","big","attr","show","load","fadeOut","mousemove","keydown","keyCode","mousewheel","evt","deltaY","_addWheelListener","elem","eventName","callback","useCapture","_addEventListener","prefix","support","originalEvent","window","target","srcElement","type","deltaMode","deltaX","delatZ","preventDefault","returnValue","wheelDelta","wheelDeltaX","detail","addEventListener","undefined","onmousewheel","WheelEvent","addWheelListener","handler","each"],"mappings":"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","file":"jquery.pan.js","sourcesContent":["jQuery.fn.extend({\r\n\r\n    pan: function () {\r\n\t\r\n\tvar panWrapper = document.createElement('div');\r\n\t$(panWrapper).addClass(\"panWrapper\");\r\n\t\r\n\tvar panImg=document.createElement('img');\r\n\t$(panImg).addClass(\"i\").css(\"position\",\"absolute\");\r\n\t\r\n\tvar zi=document.createElement('a');\r\n\t$(zi).addClass(\"controls in\");\r\n\t$(panWrapper).append(zi);\r\n\t\r\n\tvar zo=document.createElement('a');\r\n\t$(zo).addClass(\"controls out\");\r\n\t$(panWrapper).append(zo);\r\n\t\r\n\tvar close=document.createElement('a');\r\n\t$(close).addClass(\"controls close\");\r\n\t$(panWrapper).append(close);\r\n\t\r\n\t$(panWrapper).append(panImg);\r\n\t$(\"body\").append(panWrapper);\r\n\t\r\n\t$(this).click(function(e){\r\n\t\tvar t=$(this);\r\n        var big = t.attr(\"data-big\");\r\n\t\t$(\".panWrapper\").show();\r\n        $(\".panWrapper img.i\").css(\"width\",\"auto\").attr(\"src\",big).load(function(){panInit();});\r\n\t\treturn false;\r\n\t});\r\n\t\r\n\t$(zi).click(function(e){\r\n\t\tvar panImg=$(\".panWrapper img.i\");\r\n\t\tpanImg.css(\"width\",parseInt( parseInt(panImg.css(\"width\"))*1.2));\r\n\t\tpanInit(); \r\n\t});\r\n\t\r\n\t$(zo).click(function(e){\r\n\t\tvar panImg=$(\".panWrapper img.i\");\r\n\t\tpanImg.css(\"width\",parseInt( parseInt(panImg.css(\"width\"))/1.2)+1);\r\n\t\tpanInit(); \r\n\t});\r\n\t\r\n\t$(close).click(function (e) { \r\n\t\t$(\".panWrapper\").fadeOut(\"slow\"); \r\n\t});\r\n\t\r\n    $(panWrapper).mousemove(function (e) { \r\n\t\tpanInit(); \r\n\t});\r\n\t\r\n\t$(\"body\").keydown(function (e) {\r\n        if (e.keyCode == 27) {\r\n            $(close).click();\r\n        }\r\n    });\r\n\t\r\n\t$(panWrapper).mousewheel(function (evt) { \r\n\t\tif(evt.deltaY>0)\r\n\t\t\t$(zo).click();\r\n\t\telse\r\n\t\t\t$(zi).click();\r\n\t\tpanInit();\r\n\t});\r\n\t\r\n\tfunction panInit() {\r\n\t\t\r\n\t\tvar panImg=$(\".panWrapper img.i\");\r\n\t\tvar panWrapper=$(\".panWrapper\");\r\n\t\t\r\n        var w = parseInt(panImg.css(\"width\"));\r\n        var h = parseInt(panImg.css(\"height\"));\r\n        var x = parseInt(panImg.css(\"left\"));\r\n        var y = parseInt(panImg.css(\"top\"));\r\n\r\n        var ml = 0 - (w - $(panWrapper).width());\r\n        var mt = 0 - (h - $(panWrapper).height());\r\n\r\n        var nl = parseInt((ml * parseInt(event.pageX)) / parseInt($(panWrapper).width()));\r\n        var nt = parseInt((mt * parseInt(event.pageY)) / parseInt($(panWrapper).height()));\r\n\t\t\r\n\t\tif( parseInt($(panWrapper).width())>w && parseInt($(panWrapper).height())>h) {\r\n\t\t\tpanImg.css(\"left\", ((parseInt($(panWrapper).width()) - w)/2));\r\n\t\t\tpanImg.css(\"top\", ((parseInt($(panWrapper).height()) - h)/2));\r\n\t\t}\r\n\t\telse if(parseInt($(panWrapper).width())>w){\r\n\t\t\tpanImg.css(\"left\", ((parseInt($(panWrapper).width()) - w)/2));\r\n\t\t\tpanImg.css(\"top\", nt);\r\n\t\t}\r\n\t\telse if(parseInt($(panWrapper).height())>h){\r\n\t\t\tpanImg.css(\"left\", nl);\r\n\t\t\tpanImg.css(\"top\", ((parseInt($(panWrapper).height()) - h)/2));\r\n\t\t}\r\n\t\telse {\r\n\t\t\tpanImg.css(\"left\", nl);\r\n\t\t\tpanImg.css(\"top\", nt);\r\n\t\t}\r\n    }\r\n\t\r\n    }\r\n});\r\n\r\n (function(){\r\n\tvar prefix = \"\", _addEventListener, onwheel, support;\r\n\t\r\n    if ( window.addEventListener ) {\r\n        _addEventListener = \"addEventListener\";\r\n    } else {\r\n        _addEventListener = \"attachEvent\";\r\n        prefix = \"on\";\r\n    }\r\n \r\n    if ( document.onmousewheel !== undefined ) {\r\n        support = \"mousewheel\";\r\n    }\r\n    try {\r\n        WheelEvent(\"wheel\");\r\n        support = \"wheel\";\r\n    } catch (e) {}\r\n    if ( !support ) {\r\n        support = \"DOMMouseScroll\";\r\n    }\r\n \r\n    window.addWheelListener = function( elem, callback, useCapture ) {\r\n        _addWheelListener( elem, support, callback, useCapture );\r\n\r\n        if( support == \"DOMMouseScroll\" ) {\r\n            _addWheelListener( elem, \"MozMousePixelScroll\", callback, useCapture );\r\n        }\r\n    };\r\n \r\n    function _addWheelListener( elem, eventName, callback, useCapture ) {\r\n        elem[ _addEventListener ]( prefix + eventName, support == \"wheel\" ? callback : function( originalEvent ) {\r\n            !originalEvent && ( originalEvent = window.event );\r\n\r\n            var event = {\r\n                originalEvent: originalEvent,\r\n                target: originalEvent.target || originalEvent.srcElement,\r\n                type: \"wheel\",\r\n                deltaMode: originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\r\n                deltaX: 0,\r\n                delatZ: 0,\r\n                preventDefault: function() {\r\n                    originalEvent.preventDefault ?\r\n                        originalEvent.preventDefault() :\r\n                        originalEvent.returnValue = false;\r\n                }\r\n            };\r\n             \r\n            if ( support == \"mousewheel\" ) {\r\n                event.deltaY = - 1/40 * originalEvent.wheelDelta;\r\n                originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 * originalEvent.wheelDeltaX );\r\n            } else {\r\n                event.deltaY = originalEvent.detail;\r\n            }\r\n \r\n            return callback( event );\r\n \r\n        }, useCapture || false );\r\n    }\r\n\r\n\t$.fn.mousewheel = function(handler) {\r\n\t\treturn this.each(function() {\r\n\t\t\twindow.addWheelListener(this, handler, true);\r\n\t\t});\r\n\t};\r\n })(jQuery);"]}