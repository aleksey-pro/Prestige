{"version":3,"sources":["jquery.pan.js"],"names":["jQuery","fn","extend","pan","panInit","panImg","$","panWrapper","w","parseInt","css","h","ml","width","mt","height","nl","event","pageX","nt","pageY","document","createElement","addClass","zi","append","zo","close","this","click","e","t","big","attr","show","load","fadeOut","mousemove","keydown","keyCode","mousewheel","evt","deltaY","_addWheelListener","elem","eventName","callback","useCapture","_addEventListener","prefix","support","originalEvent","window","target","srcElement","type","deltaMode","deltaX","delatZ","preventDefault","returnValue","wheelDelta","wheelDeltaX","detail","addEventListener","undefined","onmousewheel","WheelEvent","addWheelListener","handler","each"],"mappings":"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","file":"jquery.pan.js","sourcesContent":["jQuery.fn.extend({\n\n    pan: function () {\n\t\n\tvar panWrapper = document.createElement('div');\n\t$(panWrapper).addClass(\"panWrapper\");\n\t\n\tvar panImg=document.createElement('img');\n\t$(panImg).addClass(\"i\").css(\"position\",\"absolute\");\n\t\n\tvar zi=document.createElement('a');\n\t$(zi).addClass(\"controls in\");\n\t$(panWrapper).append(zi);\n\t\n\tvar zo=document.createElement('a');\n\t$(zo).addClass(\"controls out\");\n\t$(panWrapper).append(zo);\n\t\n\tvar close=document.createElement('a');\n\t$(close).addClass(\"controls close\");\n\t$(panWrapper).append(close);\n\t\n\t$(panWrapper).append(panImg);\n\t$(\"body\").append(panWrapper);\n\t\n\t$(this).click(function(e){\n\t\tvar t=$(this);\n        var big = t.attr(\"data-big\");\n\t\t$(\".panWrapper\").show();\n        $(\".panWrapper img.i\").css(\"width\",\"auto\").attr(\"src\",big).load(function(){panInit();});\n\t\treturn false;\n\t});\n\t\n\t$(zi).click(function(e){\n\t\tvar panImg=$(\".panWrapper img.i\");\n\t\tpanImg.css(\"width\",parseInt( parseInt(panImg.css(\"width\"))*1.2));\n\t\tpanInit(); \n\t});\n\t\n\t$(zo).click(function(e){\n\t\tvar panImg=$(\".panWrapper img.i\");\n\t\tpanImg.css(\"width\",parseInt( parseInt(panImg.css(\"width\"))/1.2)+1);\n\t\tpanInit(); \n\t});\n\t\n\t$(close).click(function (e) { \n\t\t$(\".panWrapper\").fadeOut(\"slow\"); \n\t});\n\t\n    $(panWrapper).mousemove(function (e) { \n\t\tpanInit(); \n\t});\n\t\n\t$(\"body\").keydown(function (e) {\n        if (e.keyCode == 27) {\n            $(close).click();\n        }\n    });\n\t\n\t$(panWrapper).mousewheel(function (evt) { \n\t\tif(evt.deltaY>0)\n\t\t\t$(zo).click();\n\t\telse\n\t\t\t$(zi).click();\n\t\tpanInit();\n\t});\n\t\n\tfunction panInit() {\n\t\t\n\t\tvar panImg=$(\".panWrapper img.i\");\n\t\tvar panWrapper=$(\".panWrapper\");\n\t\t\n        var w = parseInt(panImg.css(\"width\"));\n        var h = parseInt(panImg.css(\"height\"));\n        var x = parseInt(panImg.css(\"left\"));\n        var y = parseInt(panImg.css(\"top\"));\n\n        var ml = 0 - (w - $(panWrapper).width());\n        var mt = 0 - (h - $(panWrapper).height());\n\n        var nl = parseInt((ml * parseInt(event.pageX)) / parseInt($(panWrapper).width()));\n        var nt = parseInt((mt * parseInt(event.pageY)) / parseInt($(panWrapper).height()));\n\t\t\n\t\tif( parseInt($(panWrapper).width())>w && parseInt($(panWrapper).height())>h) {\n\t\t\tpanImg.css(\"left\", ((parseInt($(panWrapper).width()) - w)/2));\n\t\t\tpanImg.css(\"top\", ((parseInt($(panWrapper).height()) - h)/2));\n\t\t}\n\t\telse if(parseInt($(panWrapper).width())>w){\n\t\t\tpanImg.css(\"left\", ((parseInt($(panWrapper).width()) - w)/2));\n\t\t\tpanImg.css(\"top\", nt);\n\t\t}\n\t\telse if(parseInt($(panWrapper).height())>h){\n\t\t\tpanImg.css(\"left\", nl);\n\t\t\tpanImg.css(\"top\", ((parseInt($(panWrapper).height()) - h)/2));\n\t\t}\n\t\telse {\n\t\t\tpanImg.css(\"left\", nl);\n\t\t\tpanImg.css(\"top\", nt);\n\t\t}\n    }\n\t\n    }\n});\n\n (function(){\n\tvar prefix = \"\", _addEventListener, onwheel, support;\n\t\n    if ( window.addEventListener ) {\n        _addEventListener = \"addEventListener\";\n    } else {\n        _addEventListener = \"attachEvent\";\n        prefix = \"on\";\n    }\n \n    if ( document.onmousewheel !== undefined ) {\n        support = \"mousewheel\";\n    }\n    try {\n        WheelEvent(\"wheel\");\n        support = \"wheel\";\n    } catch (e) {}\n    if ( !support ) {\n        support = \"DOMMouseScroll\";\n    }\n \n    window.addWheelListener = function( elem, callback, useCapture ) {\n        _addWheelListener( elem, support, callback, useCapture );\n\n        if( support == \"DOMMouseScroll\" ) {\n            _addWheelListener( elem, \"MozMousePixelScroll\", callback, useCapture );\n        }\n    };\n \n    function _addWheelListener( elem, eventName, callback, useCapture ) {\n        elem[ _addEventListener ]( prefix + eventName, support == \"wheel\" ? callback : function( originalEvent ) {\n            !originalEvent && ( originalEvent = window.event );\n\n            var event = {\n                originalEvent: originalEvent,\n                target: originalEvent.target || originalEvent.srcElement,\n                type: \"wheel\",\n                deltaMode: originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\n                deltaX: 0,\n                delatZ: 0,\n                preventDefault: function() {\n                    originalEvent.preventDefault ?\n                        originalEvent.preventDefault() :\n                        originalEvent.returnValue = false;\n                }\n            };\n             \n            if ( support == \"mousewheel\" ) {\n                event.deltaY = - 1/40 * originalEvent.wheelDelta;\n                originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 * originalEvent.wheelDeltaX );\n            } else {\n                event.deltaY = originalEvent.detail;\n            }\n \n            return callback( event );\n \n        }, useCapture || false );\n    }\n\n\t$.fn.mousewheel = function(handler) {\n\t\treturn this.each(function() {\n\t\t\twindow.addWheelListener(this, handler, true);\n\t\t});\n\t};\n })(jQuery);"]}